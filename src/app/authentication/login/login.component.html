<div>
  <app-navbar [hideLinks]="true"></app-navbar>
  <div class="container" [appCenterBox]>
    <app-center-header [text]="'Login'"></app-center-header>
    <div class="card ul-white-background shadow w-50 padded-fields-box">
      <form [formGroup]="form">
        <div class="form-group">
          <label>Username:</label>
          <input name="username" type="text" class="form-control" formControlName="username" [appTooltip]="loginTooltip">
          <app-field-error [condition]="username.errors?.['required'] && username.touched" [error]="'Username is required'"></app-field-error>
          <app-field-error [condition]="username.errors?.['username'] && username.touched" [error]="username.errors?.['username']"></app-field-error>
          <div class="form-text">
            Enter your username (12345678 for students, john.doe for staff)
          </div>
        </div>
        <div class="form-group">
          <label>Password:</label>
          <input name="password" type="password" minlength="8" class="form-control" formControlName="password">
          <app-field-error [condition]="password.errors?.['required'] && password.touched" [error]="'Password is required'"></app-field-error>
          <app-field-error [condition]="password.value.length < 8 && password.touched && !password.errors?.['required']" [error]="'Password must be at least 8 characters'"></app-field-error>
          <div class="form-text">
            The password you registered for your account with
          </div>
        </div>
        <div class="row">
          <div class="col text-start">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="true" formControlName="staySignedIn">
              <label class="form-check-label">Stay Logged In</label>
            </div>
          </div>
          <div class="col text-end mb-3">
            <a routerLink="/forgot-password">Forgot your password?</a>
          </div>
        </div>
        <app-alert *ngIf="error" [alertType]="'alert-danger'" [dismissible]="true" [message]="error"></app-alert>
        <app-alert #messages [dismissible]="true" *ngIf="message" [alertType]="'alert-success'" [message]="message"></app-alert>
        <div class="text-end">
          <a routerLink="/register">Register</a> 
          <button type="button" (click)="login()" class="btn btn-primary w-25" style="margin-left: 3%" [disabled]="!form.valid">Login</button>
        </div>
      </form>
    </div>
  </div>
</div>